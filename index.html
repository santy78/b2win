<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />
  <link rel="shortcut icon" href="images/favicon.png" type="">

  <title> B2WIN </title>

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />

  <!-- fonts style -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">

  <!--owl slider stylesheet -->
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />

  <!-- font awesome style -->
  <link href="css/font-awesome.min.css" rel="stylesheet" />

  <!-- Custom styles for this template -->
  <link href="css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="css/responsive.css" rel="stylesheet" />
<style type="text/css">
  #loader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }

  .spinner {
    border: 4px solid rgba(255, 255, 255, 0.3);
    border-top: 4px solid #fff;
    border-radius: 50%;
    width: 50px;
    height: 50px;
    animation: spin 0.8s linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }


/* Snackbar styles */
#snackbar {
  visibility: hidden;
  min-width: 250px;
  margin-left: -125px;
  background-color: #4242bf;
  color: #fff;
  text-align: center;
  border-radius: 2px;
  padding: 16px;
  position: fixed;
  z-index: 9999;
  left: 50%;
  bottom: 30px; /* Changed from top to bottom */
  font-size: 17px;
  transform: translateX(-50%);
}

#snackbar.show {
  visibility: visible;
  animation: fadeInOut 3s ease-in-out;
}

@keyframes fadeInOut {
  0%, 100% { opacity: 0; }
  10%, 90% { opacity: 1; }
}


</style>
</head>

<body>

  <div class="hero_area">

    <div class="hero_bg_box">
      <div class="bg_img_box">
        <img src="images/hero-bg.png" alt="">
      </div>
    </div>

    <!-- header section strats -->
    <header class="header_section">
      <div class="container-fluid">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="index.html">
            <span>
              B2WIN.AI
            </span>
          </a>

          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class=""> </span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav  ">
            

             <!-- <li class="nav-item">
                <a class="nav-link" href="service.html">Services</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="why.html">Why Us</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="team.html">Team</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#"> <i class="fa fa-user" aria-hidden="true"></i> Login</a>
              </li>  
              <form class="form-inline">
                <button class="btn  my-2 my-sm-0 nav_search-btn" type="submit">
                  <i class="fa fa-search" aria-hidden="true"></i>
                </button>
              </form>----->
            </ul>
          </div>
        </nav>
      </div>
    </header>
    <!-- end header section -->
    <!-- slider section -->
    <section class="slider_section ">
      <div id="customCarousel1" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
         
          <div class="carousel-item active">
            <div class="container ">
              <div class="row">
                <div class="col-md-6 ">
                  
                  <div class="login-card" id="login">
    <h2 class="login-title">LOGIN</h2>
    <!-- <form action="dashboard.html"> -->
        <div class="input-group">
            <input type="text" id="email" placeholder="Email" required>
        </div>
        <div class="input-group">
            <input type="password" id="password" placeholder="Password" required>
        </div>
        <div class="action-group">
            <a href="#" id="signup" class="create-account-link">Create New Account!</a>&nbsp;&nbsp;&nbsp;
            <a href="#" id="forgotP" class="forgot-password-link">Forgot Password?</a>
        </div>
        <button type="submit" onclick="login();" class="login-button">Login</button>
    <!-- </form> -->
</div>

     <div class="login-card" id="forgotPassword" style="display:none;">
        <h2 class="login-title">Forgot Password</h2>
      
            <div class="input-group">
                <input type="text" placeholder="Email" id="forgotPasswordEmail" required>
            </div>
            <div class="action-group">
                <div class="create-account-link">Already have an account?  <a href="#" id="loginbtn"> Login</a></div>
            </div>

            <button type="submit" onclick="forgotPassword();" class="login-button">Submit</button>
     
    </div>
<div class="login-card" id="register" style="display:none;">
    <h2 class="login-title">Register</h2>
    
    <div class="input-group">
        <input type="text" id="reg_email" placeholder="Email" required>
    </div>

    <!-- Terms and Conditions with Checkbox -->
    <div class="input-group" style="display: flex; align-items: center; justify-content: center; gap: 10px;">
      <div class="row" style="text-align: left !important;">
         <div class="col-sm-2">
           
         <input type="checkbox" id="terms_checkbox" required onchange="toggleRegisterButton()">
         </div>
         <div class="col-sm-10" >
           <label for="terms_checkbox" >
            I agree to the <a href="terms-and-conditions.html" target="" style="color: #00aaff;">Terms & Conditions</a>
        </label>
         </div>
      </div>
       
        
    </div>
    
    <div class="action-group">
        <div class="create-account-link" style="text-align: center;">
            Already have an account? <a href="#" id="login_btn" style="color: #ffaa00;">Login</a>
        </div>
    </div>
       <button type="submit" id="register_button" onclick="register();" class="login-button" disabled>Register</button>

</div>




    <div class="login-card" id="otpverify" style="display:none;">
    <h2 class="login-title">OTP Verification</h2>
    
        <div class="input-group">
          <input type="hidden" id="registredEmail" name="">
            <input type="text" id="email_verify" placeholder="OTP Code" required>
        </div>
       
        <button type="submit" onclick="otpVerify();" class="login-button">Verify</button>
    
</div>
<div class="login-card" id="passwordotpverify" style="display:none;">
    <h2 class="login-title">OTP Verification</h2>
    
        <div class="input-group">
          <input type="hidden" id="passwordregistredEmail" name="">
            <input type="text" id="password_verify" placeholder="OTP Code" required>
        </div>
       
        <button type="submit" onclick="passwordotpVerify();" class="login-button">Verify</button>
    
</div>
<div class="login-card" id="passwordReset" style="display:none;">
    <h2 class="login-title">Password Reset</h2>
    
        <div class="input-group">
          <input type="hidden" id="passwordresetregistredEmail" name="">
          <input type="hidden" id="passwordresetregistredotpCode" name="">
            <input type="password" id="newPassword" placeholder="New Password" required>
        </div>
       <div class="input-group">
            <input type="password" id="confirmPassword" placeholder="Confirm Password" required>
        </div>
        <button type="submit" onclick="resetPassword();" class="login-button">Reset Password</button>
    
</div>
    

                </div>
                <div class="col-md-6">
                  <div class="img-box">
                    <img src="images/slider-img.png" alt="">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

    </section>
    <!-- end slider section -->
  </div>

  <!-- service section -->

  <!-- <section class="service_section layout_padding">
    <div class="service_container">
      <div class="container ">
        <div class="heading_container heading_center">
          <h2>
            Our <span>Services</span>
          </h2>
          <p>
            There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration
          </p>
        </div>
        <div class="row">
          <div class="col-md-4 ">
            <div class="box ">
              <div class="img-box">
                <img src="images/s1.png" alt="">
              </div>
              <div class="detail-box">
                <h5>
                  Currency Wallet
                </h5>
                <p>
                  fact that a reader will be distracted by the readable content of a page when looking at its layout.
                  The
                  point of using
                </p>
                <a href="">
                  Read More
                </a>
              </div>
            </div>
          </div>
          <div class="col-md-4 ">
            <div class="box ">
              <div class="img-box">
                <img src="images/s2.png" alt="">
              </div>
              <div class="detail-box">
                <h5>
                  Security Storage
                </h5>
                <p>
                  fact that a reader will be distracted by the readable content of a page when looking at its layout.
                  The
                  point of using
                </p>
                <a href="">
                  Read More
                </a>
              </div>
            </div>
          </div>
          <div class="col-md-4 ">
            <div class="box ">
              <div class="img-box">
                <img src="images/s3.png" alt="">
              </div>
              <div class="detail-box">
                <h5>
                  Expert Support
                </h5>
                <p>
                  fact that a reader will be distracted by the readable content of a page when looking at its layout.
                  The
                  point of using
                </p>
                <a href="">
                  Read More
                </a>
              </div>
            </div>
          </div>
        </div>
        <div class="btn-box">
          <a href="">
            View All
          </a>
        </div>
      </div>
    </div>
  </section> -->

  <!-- end service section -->


  <!-- about section -->

  <!-- <section class="about_section layout_padding">
    <div class="container  ">
      <div class="heading_container heading_center">
        <h2>
          About <span>Us</span>
        </h2>
        <p>
          Magni quod blanditiis non minus sed aut voluptatum illum quisquam aspernatur ullam vel beatae rerum ipsum voluptatibus
        </p>
      </div>
      <div class="row">
        <div class="col-md-6 ">
          <div class="img-box">
            <img src="images/about-img.png" alt="">
          </div>
        </div>
        <div class="col-md-6">
          <div class="detail-box">
            <h3>
              We Are Finexo
            </h3>
            <p>
              There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration
              in some form, by injected humour, or randomised words which don't look even slightly believable. If you
              are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything embarrassing hidden in
              the middle of text. All
            </p>
            <p>
              Molestiae odio earum non qui cumque provident voluptates, repellendus exercitationem, possimus at iste corrupti officiis unde alias eius ducimus reiciendis soluta eveniet. Nobis ullam ab omnis quasi expedita.
            </p>
            <a href="">
              Read More
            </a>
          </div>
        </div>
      </div>
    </div>
  </section> -->

  <!-- end about section -->

  <!-- why section -->

  <!-- <section class="why_section layout_padding">
    <div class="container">
      <div class="heading_container heading_center">
        <h2>
          Why Choose <span>Us</span>
        </h2>
      </div>
      <div class="why_container">
        <div class="box">
          <div class="img-box">
            <img src="images/w1.png" alt="">
          </div>
          <div class="detail-box">
            <h5>
              Expert Management
            </h5>
            <p>
              Incidunt odit rerum tenetur alias architecto asperiores omnis cumque doloribus aperiam numquam! Eligendi corrupti, molestias laborum dolores quod nisi vitae voluptate ipsa? In tempore voluptate ducimus officia id, aspernatur nihil.
              Tempore laborum nesciunt ut veniam, nemo officia ullam repudiandae repellat veritatis unde reiciendis possimus animi autem natus
            </p>
          </div>
        </div>
        <div class="box">
          <div class="img-box">
            <img src="images/w2.png" alt="">
          </div>
          <div class="detail-box">
            <h5>
              Secure Investment
            </h5>
            <p>
              Incidunt odit rerum tenetur alias architecto asperiores omnis cumque doloribus aperiam numquam! Eligendi corrupti, molestias laborum dolores quod nisi vitae voluptate ipsa? In tempore voluptate ducimus officia id, aspernatur nihil.
              Tempore laborum nesciunt ut veniam, nemo officia ullam repudiandae repellat veritatis unde reiciendis possimus animi autem natus
            </p>
          </div>
        </div>
        <div class="box">
          <div class="img-box">
            <img src="images/w3.png" alt="">
          </div>
          <div class="detail-box">
            <h5>
              Instant Trading
            </h5>
            <p>
              Incidunt odit rerum tenetur alias architecto asperiores omnis cumque doloribus aperiam numquam! Eligendi corrupti, molestias laborum dolores quod nisi vitae voluptate ipsa? In tempore voluptate ducimus officia id, aspernatur nihil.
              Tempore laborum nesciunt ut veniam, nemo officia ullam repudiandae repellat veritatis unde reiciendis possimus animi autem natus
            </p>
          </div>
        </div>
        <div class="box">
          <div class="img-box">
            <img src="images/w4.png" alt="">
          </div>
          <div class="detail-box">
            <h5>
              Happy Customers
            </h5>
            <p>
              Incidunt odit rerum tenetur alias architecto asperiores omnis cumque doloribus aperiam numquam! Eligendi corrupti, molestias laborum dolores quod nisi vitae voluptate ipsa? In tempore voluptate ducimus officia id, aspernatur nihil.
              Tempore laborum nesciunt ut veniam, nemo officia ullam repudiandae repellat veritatis unde reiciendis possimus animi autem natus
            </p>
          </div>
        </div>
      </div>
      <div class="btn-box">
        <a href="">
          Read More
        </a>
      </div>
    </div>
  </section> -->

  <!-- end why section -->

  <!-- team section -->
  <!-- <section class="team_section layout_padding">
    <div class="container-fluid">
      <div class="heading_container heading_center">
        <h2 class="">
          Our <span> Team</span>
        </h2>
      </div>

      <div class="team_container">
        <div class="row">
          <div class="col-lg-3 col-sm-6">
            <div class="box ">
              <div class="img-box">
                <img src="images/team-1.jpg" class="img1" alt="">
              </div>
              <div class="detail-box">
                <h5>
                  Joseph Brown
                </h5>
                <p>
                  Marketing Head
                </p>
              </div>
              <div class="social_box">
                <a href="#">
                  <i class="fa fa-facebook" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-twitter" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-linkedin" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-instagram" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-youtube-play" aria-hidden="true"></i>
                </a>
              </div>
            </div>
          </div>
          <div class="col-lg-3 col-sm-6">
            <div class="box ">
              <div class="img-box">
                <img src="images/team-2.jpg" class="img1" alt="">
              </div>
              <div class="detail-box">
                <h5>
                  Nancy White
                </h5>
                <p>
                  Marketing Head
                </p>
              </div>
              <div class="social_box">
                <a href="#">
                  <i class="fa fa-facebook" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-twitter" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-linkedin" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-instagram" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-youtube-play" aria-hidden="true"></i>
                </a>
              </div>
            </div>
          </div>
          <div class="col-lg-3 col-sm-6">
            <div class="box ">
              <div class="img-box">
                <img src="images/team-3.jpg" class="img1" alt="">
              </div>
              <div class="detail-box">
                <h5>
                  Earl Martinez
                </h5>
                <p>
                  Marketing Head
                </p>
              </div>
              <div class="social_box">
                <a href="#">
                  <i class="fa fa-facebook" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-twitter" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-linkedin" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-instagram" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-youtube-play" aria-hidden="true"></i>
                </a>
              </div>
            </div>
          </div>
          <div class="col-lg-3 col-sm-6">
            <div class="box ">
              <div class="img-box">
                <img src="images/team-4.jpg" class="img1" alt="">
              </div>
              <div class="detail-box">
                <h5>
                  Josephine Allard
                </h5>
                <p>
                  Marketing Head
                </p>
              </div>
              <div class="social_box">
                <a href="#">
                  <i class="fa fa-facebook" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-twitter" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-linkedin" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-instagram" aria-hidden="true"></i>
                </a>
                <a href="#">
                  <i class="fa fa-youtube-play" aria-hidden="true"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section> -->
  <!-- end team section -->


  <!-- client section -->

  <!-- <section class="client_section layout_padding">
    <div class="container">
      <div class="heading_container heading_center psudo_white_primary mb_45">
        <h2>
          What says our <span>Customers</span>
        </h2>
      </div>
      <div class="carousel-wrap ">
        <div class="owl-carousel client_owl-carousel">
          <div class="item">
            <div class="box">
              <div class="img-box">
                <img src="images/client1.jpg" alt="" class="box-img">
              </div>
              <div class="detail-box">
                <div class="client_id">
                  <div class="client_info">
                    <h6>
                      LusDen
                    </h6>
                    <p>
                      magna aliqua. Ut
                    </p>
                  </div>
                  <i class="fa fa-quote-left" aria-hidden="true"></i>
                </div>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis </p>
              </div>
            </div>
          </div>
          <div class="item">
            <div class="box">
              <div class="img-box">
                <img src="images/client2.jpg" alt="" class="box-img">
              </div>
              <div class="detail-box">
                <div class="client_id">
                  <div class="client_info">
                    <h6>
                      Zen Court
                    </h6>
                    <p>
                      magna aliqua. Ut
                    </p>
                  </div>
                  <i class="fa fa-quote-left" aria-hidden="true"></i>
                </div>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis </p>
              </div>
            </div>
          </div>
          <div class="item">
            <div class="box">
              <div class="img-box">
                <img src="images/client1.jpg" alt="" class="box-img">
              </div>
              <div class="detail-box">
                <div class="client_id">
                  <div class="client_info">
                    <h6>
                      LusDen
                    </h6>
                    <p>
                      magna aliqua. Ut
                    </p>
                  </div>
                  <i class="fa fa-quote-left" aria-hidden="true"></i>
                </div>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis </p>
              </div>
            </div>
          </div>
          <div class="item">
            <div class="box">
              <div class="img-box">
                <img src="images/client2.jpg" alt="" class="box-img">
              </div>
              <div class="detail-box">
                <div class="client_id">
                  <div class="client_info">
                    <h6>
                      Zen Court
                    </h6>
                    <p>
                      magna aliqua. Ut
                    </p>
                  </div>
                  <i class="fa fa-quote-left" aria-hidden="true"></i>
                </div>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section> -->

<div id="loader" style="display: none;">
  <div class="spinner"></div>
</div>

<div id="snackbar"></div>



  <!-- footer section -->
  <section class="footer_section">
    <div class="container">
      <p>
        &copy; <span id="displayYear"></span> All Rights Reserved By b2win.ai
      </p>
    </div>
  </section>
  <!-- footer section -->

  <!-- jQery -->
  <script type="text/javascript" src="js/jquery-3.4.1.min.js"></script>
  <!-- popper js -->
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
  </script>
  <!-- bootstrap js -->
  <script type="text/javascript" src="js/bootstrap.js"></script>
  <!-- owl slider -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
  </script>
  <!-- custom js -->
  <script type="text/javascript" src="js/custom.js"></script>
  <script type="text/javascript" src="js/constants.js"></script>
  <!-- Google Map -->

  <!-- End Google Map -->
<script type="text/javascript">


//   document.addEventListener("DOMContentLoaded", function () {
//     // Retrieve the access token from local storage
//     const accessToken = localStorage.getItem("b2Win_access_token");

//     if (accessToken!="") {
//       if (isTokenExpired(accessToken)) {
//       console.log("Token is expired. Redirecting to login...");
//     } else {
//         console.log("Token is valid. Proceed to dashboard...");
//         window.location.href = "dashboard.html";
//         // Proceed to the dashboard or desired action
//     }
   
//     } else {
//         // If no access token, redirect to the login page
//        // window.location.href = "index.html";
//     }
// });

function isTokenExpired(token) {
    try {
        // Decode the token
        const payload = JSON.parse(atob(token.split(".")[1].replace(/-/g, "+").replace(/_/g, "/")));

        // Get the current time in seconds
        const currentTime = Math.floor(Date.now() / 1000);

        // Check if the token is expired
        return payload.exp < currentTime; // true if expired, false otherwise
    } catch (error) {
      //  console.error("Invalid JWT token:", error.message);
        return true; // Assume invalid tokens are expired
    }
}
function passwordotpVerify() {
  $("#passwordotpverify").hide("slow");
  $("#passwordReset").show("slow");
  var otp=$("#password_verify").val();
  $("#passwordresetregistredotpCode").val(otp);
  


}

$("#forgotP").click(function () {
$("#login").hide("slow");
$("#forgotPassword").show("slow");
});

$("#signup").click(function () {
$("#login").hide("slow");
$("#forgotPassword").hide("slow");
$("#register").show("slow");
});

$("#loginbtn").click(function () {
$("#forgotPassword").hide("slow");
$("#register").hide("slow");
$("#login").show("slow");
});

$("#login_btn").click(function () {
$("#forgotPassword").hide("slow");
$("#register").hide("slow");
$("#login").show("slow");
});

function toggleRegisterButton() {
    const termsCheckbox = document.getElementById('terms_checkbox');
    const registerButton = document.getElementById('register_button');

    // Enable the button only if the checkbox is checked
    registerButton.disabled = !termsCheckbox.checked;
}



function register() {
  const termsChecked = document.getElementById('terms_checkbox').checked;

    if (!termsChecked) {
      showSnackbar('You must agree to the Terms and Conditions to register.');
        return;
    }
    const url = BASE_URL+"reg_auth/registration/register"; // Replace with your actual API URL
	

       var email=$("#reg_email").val();
       console.log("email : "+email);
       showLoader();
    $.ajax({
        url: url,
        method: "POST",
        contentType: "application/json; charset=UTF-8",
        data: JSON.stringify({
            email: email,
            role:"",
            referredcode: "",
            devicetoken: "",
            devicetype: ""
        }),
       
        success: function (response) {

            hideLoader();
            if (response.statuscode === 200) {
               /* var  is_active = response.data?.is_active ; 
                if(is_active){
                  $("#reg_email").val("");
                  $("#registredEmail").val(email)
;
                  alert(response.message);
                  setTimeout(function () {// Replace #loginDiv with the actual ID of your login div
                        $("#register").hide("slow"); 
                        $("#otpverify").show("slow"); // Optionally hide the registration div if needed
                    }, 100);
                }*/

              var  access_token = response.data?.access_token ; 
                if(access_token!=""){
                  
                var  refresh_token = response.data?.refresh_token ; 
                 const profile = response.data.profile;

                // Extract details
                const uid = profile.uid;
                const email = profile.email;
                const referralCode = profile.referral_code;
                  localStorage.setItem("b2Win_access_token", access_token);

                  localStorage.setItem("b2Win_refresh_token", refresh_token);

                  localStorage.setItem("b2Win_uid", uid);

                  localStorage.setItem("b2Win_email", email);
                  localStorage.setItem("b2Win_referralCode", referralCode);

                  showSnackbar(response.message);
                  setTimeout(function () {// Replace #loginDiv with the actual ID of your login div
                       window.location.href = "dashboard.html"; // Optionally hide the registration div if needed
                    }, 100);
                }

            } else {
                console.error("Registration failed with status:", response.statuscode, response.message);
                showSnackbar(response.message);
            }
        },
        error: function (xhr, status, error) {
           hideLoader();
           showSnackbar("Please try again!");
            console.error("Login failed:", xhr.responseText || error);
        }
    });
}

function resetPassword() {
    const url = BASE_URL+"reg_auth/password/reset"; 
    var email = $("#passwordresetregistredEmail").val();
    var newPassword = $("#newPassword").val();
    var confirmPassword = $("#confirmPassword").val();
    var otp = $("#passwordresetregistredotpCode").val();
    if (newPassword==""  || confirmPassword==""){
      showSnackbar("please enter a new password and confirm");
    }else if(newPassword!=confirmPassword){
      showSnackbar("password and confirm password do not match!");
    }else{


    showLoader();
    $.ajax({
        url: url,
        method: "POST",
        contentType: "application/json; charset=UTF-8",
        data: JSON.stringify({
            email: email,
            password: confirmPassword,
            otp: otp
        }),
        success: function (response) {
             hideLoader();
            if (response.statuscode === 200) {



              showSnackbar(response.message);
                  setTimeout(function () {// Replace #loginDiv with the actual ID of your login div
                       $("#passwordReset").hide("slow"); 
                        $("#login").show("slow");  // Optionally hide the registration div if needed
                    }, 100);
                

            } else {
                console.error("Registration failed with status:", response.statuscode, response.message);
                showSnackbar(response.message);
            }
        },
        error: function (xhr, status, error) {
          hideLoader();
          showSnackbar("Please try again!");
            console.error("failed:", xhr.responseText || error);
        }
    });
  }
}

function forgotPassword() {
    const url = BASE_URL+"reg_auth/otp/resend_password_reset_otp"; 
    var email = $("#forgotPasswordEmail").val();

    showLoader();
    $.ajax({
        url: url,
        method: "POST",
        contentType: "application/json; charset=UTF-8",
        data: JSON.stringify({
            email: email,
            otp_type: "password_reset",
        }),
        success: function (response) {
             hideLoader();
            if (response.statuscode === 200) {


                  $("#passwordresetregistredEmail").val(email); 

                  setTimeout(function () {// Replace #loginDiv with the actual ID of your login div
                       $("#forgotPassword").hide("slow"); 
                        $("#passwordotpverify").show("slow"); // Optionally hide the registration div if needed
                    }, 100);
                

            } else {
                console.error("failed with status:", response.statuscode, response.message);
                showSnackbar(response.message);
            }
        },
        error: function (xhr, status, error) {
           hideLoader();
           showSnackbar("Please try again!");
            console.error("failed:", xhr.responseText || error);
        }
    });
}


function otpVerify() {
    const url = BASE_URL+"reg_auth/verification/register_email_otp_verification"; 
    var email = $("#registredEmail").val();

    var otpCode=$("#email_verify").val();
    showLoader();
    $.ajax({
        url: url,
        method: "POST",
        contentType: "application/json; charset=UTF-8",
        data: JSON.stringify({
            email: email,
            otp: otpCode,
            otp_type: ""
        }),
        success: function (response) {
            console.log("verify:", response);
             hideLoader();
            if (response.statuscode === 200) {
                var  access_token = response.data?.access_token ; 
                if(access_token!=""){
                  
                var  refresh_token = response.data?.refresh_token ; 
                 const profile = response.data.profile;

                // Extract details
                const uid = profile.uid;
                const email = profile.email;
                const referralCode = profile.referral_code;
                  localStorage.setItem("b2Win_access_token", access_token);

                  localStorage.setItem("b2Win_refresh_token", refresh_token);

                  localStorage.setItem("b2Win_uid", uid);

                  localStorage.setItem("b2Win_email", email);
                  localStorage.setItem("b2Win_referralCode", referralCode);

                  showSnackbar(response.message);
                  setTimeout(function () {// Replace #loginDiv with the actual ID of your login div
                       window.location.href = "dashboard.html"; // Optionally hide the registration div if needed
                    }, 100);
                }

            } else {
                console.error("failed with status:", response.statuscode, response.message);
               // alert("failed: " + response.message);                
                showSnackbar(response.message);
            }
        },
        error: function (xhr, status, error) {
           hideLoader();
           showSnackbar("Please try again!");
            console.error("Login failed:", xhr.responseText || error);
        }
    });
}

function login() {


 /* var xhr = new XMLHttpRequest();
xhr.open("POST", "https://test.api.itisiya.com:8443/b2winai/reg_auth/sign_in/", false); 



// Add a request header specifying content type as application/json
xhr.setRequestHeader("Content-Type", "application/json; charset=UTF-8");

// Assuming you have data as a JavaScript object
var email = $("#email").val();
    var password = $("#password").val();

var data = {
            email: email,
            password: password,
            devicetoken: "",
            devicetype: ""
};

// Convert data to JSON string
var jsonData = JSON.stringify(data);
xhr.withCredentials = true; 
xhr.send(jsonData);

if (xhr.status === 200) {
   var  refresh_token = response.refresh_token ; 
                 const profile = response.profile;

                // Extract details
                const uid = profile.uid;
                const email = profile.email;
                const referralCode = profile.referral_code;
                  localStorage.setItem("b2Win_access_token", access_token);

                  localStorage.setItem("b2Win_refresh_token", refresh_token);

                  localStorage.setItem("b2Win_uid", uid);

                  localStorage.setItem("b2Win_email", email);
                  localStorage.setItem("b2Win_referralCode", referralCode);
                  setTimeout(function () {// Replace #loginDiv with the actual ID of your login div
                       window.location.href = "dashboard.html"; // Optionally hide the registration div if needed
                    }, 100);
  console.log(xhr.responseText);
} else {
  // Handle the error
  console.error(xhr.statusText);
}*/




    const url = BASE_URL+"reg_auth/sign_in/"; 
    var email = $("#email").val();
    var password = $("#password").val();
            console.log("email:", email);
            console.log("password:", password);
            showLoader();
    $.ajax({
        url: url,
        method: "POST",
        contentType: "application/json; charset=UTF-8",
        xhrFields: {
            withCredentials: true
        },
        data: JSON.stringify({
            email: email,
            password: password,
            devicetoken: "",
            devicetype: ""
        }),
        success: function (response) {
          hideLoader();
           if (response.statuscode === 200) {
                var  access_token = response.data?.access_token ; 
                if(access_token!=""){
                  
                var  refresh_token = response.data?.refresh_token ; 
                 const profile = response.data.profile;

                // Extract details
                const uid = profile.uid;
                const email = profile.email;
                const referralCode = profile.referral_code;
                  localStorage.setItem("b2Win_access_token", access_token);

                  localStorage.setItem("b2Win_refresh_token", refresh_token);

                  localStorage.setItem("b2Win_uid", uid);

                  localStorage.setItem("b2Win_email", email);
                  localStorage.setItem("b2Win_referralCode", referralCode);
                  setTimeout(function () {// Replace #loginDiv with the actual ID of your login div
                       window.location.href = "dashboard.html"; // Optionally hide the registration div if needed
                    }, 100);
                }

            } else {
                console.error("login failed with status:", response.statuscode, response.message);
                showSnackbar(response.message);
            }
        },
        error: function (xhr, status, error) {
           hideLoader();
           showSnackbar( "Please try again!");
            console.error("Login failed:", xhr.responseText || error);
        } ,
    beforeSend: function(xhr) {
        // Add custom headers or modify as needed
        xhr.setRequestHeader('staticssl', false);
    }
        
    });
}

function showSnackbar(message) {
      const snackbar = document.getElementById("snackbar");
      snackbar.innerText = message;
      snackbar.className = "show";
      setTimeout(() => {
        snackbar.className = snackbar.className.replace("show", "");
      }, 3000);
    }
    
    

function showLoader() {
  $("#loader").show();
}

function hideLoader() {
  $("#loader").hide();
}

</script>
</body>

</html>
